<!DOCTYPE html>
<html>
    <head>
        <!--p5 core library CDN-->
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.14/p5.min.js"></script>

        <script>
            // p5 calls setup() exactly once when the canvas loads
            var x, y, xSpeed, ySpeed, lives;

            function setup() {
                createCanvas(500, 500);
                frameRate(30);
                // noLoop();
                x = random(width/2);
                y = random(height/2);
                rectMode(CENTER);
                ySpeed = 3.5;
                xSpeed = 3.5;
                lives = 3;

            }

            function draw(){

                background('lightgray');
                rect(mouseX, height - 30, width/6, 10, 5);
                if(lives > 0){
                    ellipse(x, y, 10, 10);
                }
                y += ySpeed;
                x += xSpeed;


                if(x > width - 5 || x < 0){
                    xSpeed = -xSpeed;
                }

                if((y >= height - 35 && abs(x - mouseX) < width/12 && y < height - 35 +ySpeed)){
                    ySpeed = -ySpeed;
                    ySpeed *= 1.2;
                    xSpeed *= 1.2;
                }
                
                if(y <= 0){
                    ySpeed = -ySpeed;
                }
                fill("black");
                text("lives:", mouseX, height-25);
            }

        </script>
    </head>
    <body>

    </body>
</html>